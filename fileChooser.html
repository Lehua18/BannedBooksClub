<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Choose a file...</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Boldonse&family=Homemade+Apple&family=Lexend:wght@100..900&family=Ultra&display=swap" rel="stylesheet">
</head>
<body style="align-content: center; text-align: center; align-items: center; vertical-align: center">
    <div class= "vstack container" style="align-items: center; text-align: center; width: 90vw; height: 90vh; border-radius: 10px; border: #000038 solid 2px">
        <h1 style="font-size: xxx-large; font-family: Ultra, serif;">Upload a file...</h1>
        <input id="file" name="file" type="file" style="font-size: 23px; font-family: Lexend, sans-serif">
        <button id="uploadBtn" style="margin-top: 10px; font-family: Lexend, sans-serif">Upload</button>
        <h3 id="err-mes" class="error-msg" style="display: none; font-family: Lexend,sans-serif;"></h3>
    </div>
<script>

    window.onload = async() => {
        window.resizeTo(window.screen.availWidth / 2, window.screen.availHeight / 2);
    }
    //let uploadedImg = null;
    document.getElementById("uploadBtn").addEventListener("click", async() =>{
        if(document.getElementById("file").files[0] == null){
            document.getElementById("err-mes").display = "block";
            document.getElementById("err-mes").value = "No file selected"
        }else{
            document.getElementById("err-mes").display = "none";
            window.opener.uploadedImg = document.getElementById("file").files[0];
            //window.opener
            console.log(window.opener.uploadedImg);
            window.close();
        }
    })
</script>
</body>
</html>